<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0066)https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html -->
<title>Client Management - NetAPI</title>
<link rel="icon" type="image/x-icon" href="../favicon.ico">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="This tutorial describes the use of the NetAPI to implement networking in Java">
<meta name="keywords" content="java programming, learn java, java networking">

<style type="text/css">
    body {
        margin-left: 10px;
        margin-right: 10px;
        line-height: 1.5;
        FONT-FAMILY: Arial, Helvetica, sans-serif;
        font-size: 0.8em;
    }

    a:link {
        text-decoration: none;
        color: #09569d;
    }

    a:visited {
        text-decoration: none;
        color: #3a87cf;
    }

    a:hover {
        text-decoration: underline;
    }

    code {
        font-family: Monaco, Courier, "Courier New";
    }

    .header-container {
        background-color: #fff;
        border-bottom: 1px solid #C1CFDA;
        -webkit-box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
        box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
    }

    .bookwrapper {
        width: auto;
        margin: auto;
    }

    .clearfloat {
        clear: both;
        overflow: auto;
        height: 0px;
        font-size: 1px;
        line-height: 0px;
    }

    #brandProdName {
        width: auto;
        height: auto;
    }

    #logocover {
        display: block;
        height: 50px;
        width: 0px;
        float: left;
    }

    #productName {
        font-size: 16px;
        position: relative;
        top: 19px;
        padding-left: 3px;
        color: #457798;
        white-space: nowrap;
        width: 340px;
    }


    .FigureCaption {
        font-family: sans-serif;
        text-align: center;
    }

    #TopBar_bl {
        width: 100%;
        height: 60px;
    }

    #TopBar_br {
        width: 100%;
        height: 60px;
    }

    #TopBar_tl {
        margin-left: -110px;
        margin-right: -100px;
        height: 60px;
    }

    #TopBar_tr {
        width: 100%;
        height: 60px;
    }

    #TopBar {
        min-width: 700px;
        padding: 25px 100px 10px;
        margin-bottom: 25px;
        clear: both;

        border-bottom: 1px solid #d2dde5;
        border-radius: 3px;

        background: #efefef;
        /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMmVmZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top, #ffffff 0%, #e2eff9 100%);
        /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #ffffff), color-stop(100%, #e2eff9));
        /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top, #ffffff 0%, #e2eff9 100%);
        /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top, #ffffff 0%, #e2eff9 100%);
        /* Opera 11.10+ */
        background: -ms-linear-gradient(top, #ffffff 0%, #e2eff9 100%);
        /* IE10+ */
        background: linear-gradient(to bottom, #ffffff 0%, #e2eff9 100%);
        /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#e2eff9', GradientType=0);
        /* IE6-8 */

    }

    #TopBar_left {
        line-height: 14px;
        position: absolute;
        padding-top: 30px;
        padding-right: 30px;
        padding-left: 30px;
        text-align: left;
        font: 13px/20px Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 20px;
        color: #333;
    }

    #TopBar_right {
        line-height: 12px;
        float: right;
        padding-top: 10px;
        padding-right: 30px;
        text-align: left;
    }


    @media print {

        #BreadCrumbs,
        #Download {
            display: none;
        }
    }


    @media print {
        #TopBar_right {
            display: none;
        }
    }

    #TopBar_right a {
        font-size: 10px;
        margin: 3px;
        padding: 0;
    }

    #BreadCrumbs {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif;
        float: right;
    }

    #BreadCrumbs a {
        color: #09569d;
    }

    #BreadCrumbs a:visited,
    #BreadCrumbs a:link {
        text-decoration: none;
    }

    #BreadCrumbs a:hover,
    #BreadCrumbs a:active {
        text-decoration: underline;
    }

    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }

    #PageContent {
        margin: 0 5px 0 20px;
    }

    .LeftBar_shown {
        width: 13em;
        float: left;
    }

    @media print {
        .LeftBar_shown {
            display: none;
        }
    }

    .LeftBar_hidden {
        display: none;
    }

    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }

    .footertext {
        font-size: 10px;
        font-family: sans-serif;
        margin-top: 1px;
    }

    .NavBit {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif;
    }

    @media print {
        .NavBit {
            display: none;
        }
    }

    #TagNotes {
        text-align: right;
    }

    @media print {

        #TagNotes a:visited,
        #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }

    #Contents a,
    .NavBit a,
    #TagNotes a {
        color: #09569d;
    }

    #TagNotes a:visited,
    #TagNotes a:link,
    #Contents a:visited,
    #Contents a:link,
    .NavBit a:visited,
    .NavBit a:link {
        text-decoration: none;
    }

    #TagNotes a:hover,
    #TagNotes a:active,
    #Contents a:hover,
    #Contents a:active,
    .NavBit a:hover,
    .NavBit a:active {
        text-decoration: underline;
    }

    #Contents {
        float: left;
        font-family: sans-serif;
    }

    @media print {
        #Contents {
            display: none;
        }
    }

    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }

    .linkLESSON,
    .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em;
    }

    .linkAHEAD,
    .nolinkAHEAD,
    .linkQUESTIONS,
    .nolinkQUESTIONS {
        margin-left: 1.5em;
        text-indent: -0.5em
    }

    .linkBHEAD,
    .nolinkBHEAD {
        margin-left: 2.5em;
        text-indent: -0.5em
    }

    .linkCHEAD,
    .nolinkCHEAD {
        margin-left: 3.5em;
        text-indent: -0.5em
    }

    .nolinkLESSON,
    .nolinkAHEAD,
    .nolinkBHEAD,
    .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #333;


    }

    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }

    .MainFlow_wide {

        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }

    @media print {

        .MainFlow_indented,
        .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }

    h1,
    h2,
    h3,
    h4,
    h5 {
        color: #333;

    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }

    .note {
        margin: 0 30px 0px 30px;
    }

    .codeblock {
        margin: 0 30px 0px 30px;
        font-size: 12px;
        font-family: Monaco, Courier, "Courier New";
    }

    .tocli {
        list-style-type: none;
    }

    .betadraft {
        color: red;
    }
</style>
<script type="text/javascript" async="" src="./tutorial/infinity_common.js.download"></script>
<script type="text/javascript">
    /* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue = cookieString.substring(nameq.length,
                    cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
            "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display = "inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */
</script>


<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script>
<script src="./tutorial/global.js.download"></script>
<style id="banner_footer_style" type="text/css">
    #footer-banner ul li:nth-child(2) {
        margin-left: 0;
    }

    #footer-banner {
        z-index: 9999;
        position: fixed;
        margin: 0 auto 0 auto;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: #EBEBEB !important;
        border-top: 1px solid #ACB7BF;
        color: #1958AA;
        padding: 0.0em 1em;
        text-align: center;
        font-size: 12px !important;
        line-height: 15px;
        font-weight: normal;
        font-family: Arial;
        clear: both;
    }

    #teconsent {
        display: inline-block;
    }

    #footer-banner ul {
        list-style: none;
        font-size: 12px !important;
        padding: 0;
        margin: 0;
        margin-right: 20px;
    }

    #footer-banner li {
        display: inline-block;
    }

    #footer-banner li+li:before {
        content: "|";
        margin-right: 4px;
        margin-left: 4px;
        color: #aaa;
    }

    #footer-banner a {
        color: #1958AA;
        text-decoration: none;
        font-size: 12px !important;
    }

    #footer-banner a:focus,
    #footer-banner a:hover {
        color: #1958AA;
        text-decoration: underline;
    }
</style>
<script type="text/javascript" src="./tutorial/odc.js.download"></script>
<script type="text/javascript" src="./tutorial/analytics-production.js.download" async="true" defer="true"></script>
<script type="text/javascript" src="./tutorial/common.js.download" async="true" defer="true"></script>
<script type="text/javascript" src="./tutorial/analytics.js.download" async="true" defer="true"></script>
</head>

<body onload="load()">
    <noscript>
        A browser with JavaScript enabled is required for this page to operate properly.
    </noscript>
    <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName">NetApi Documentation</div>
            </div>
            <br class="clearfloat">
        </div>
    </div>

    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br">
                    <div id="TopBar_bl">
                        <div id="TopBar_left">How to Use NetAPI</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="netAPI.html">Using the NetAPI</a></div>
            <div class="linkAHEAD"><a href="classPathManager.html">Installing the API</a></div>
            <div class="linkAHEAD"><a href="classCreation.html">Creating the Classes</a></div>
            <div class="linkAHEAD"><a href="serverManager.html">Server-Side Management</a></div>
            <div class="nolinkAHEAD">Client-Side Management</div>
            <div class="linkAHEAD"><a href="dataManager.html">Sending and Receiving Data</a></div>
            <div class="linkAHEAD"><a href="troubleshoot.html">Troubleshooting Problems</a></div>
        </div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
        <div id="BreadCrumbs">
            <a href="netAPI.html" target="_top">Using the NetAPI</a>
        </div>
        <div id="PageTitle">
            <h1>Client-Side Management</h1>
        </div>
        <div id="PageContent">


            <div class="note">
                <hr /><strong>Note 1:</strong>&nbsp;The design of this tutorial and almost all of its source code comes from
                <a class="TutorialLink" target="_top" href="https://docs.oracle.com/javase/tutorial/index.html">
                    The
                    Java™ Tutorials
                </a>.
                <hr />
            </div>
            <div class="note"><strong>Note 2:</strong>&nbsp;This page assumes that you have already read
                <a class="TutorialLink" target="_top" href="classCreation.html">Creating your Classes</a>. If something
                here does not make sense to you, try reading through that first.
                <hr>
            </div>

            <p>If you are interested in coding your networking back-end from scratch, see the
                <a class="OutsideLink" target="_blank"
                    href="https://download.java.net/java/early_access/panama/docs/api/java.base/java/net/package-summary.html">java.net</a>
                and
                <a class="OutsideLink" target="_blank"
                    href="https://docs.oracle.com/javase/8/docs/api/java/nio/package-summary.html">java.nio</a>
                packages.
            </p>

            <p>The client-side of any connection is represented by a
                <code><a class="TutorialLink" target="_blank" href="ClientSideConnection.html">ClientSideConnection.</a></code>
                This class can be used to open and close connections, as well as detect public servers.</p>
            <hr>
            <h3>Joining and Leaving Servers</h3>
            <p>A <code><a class="TutorialLink" target="_blank" href="ClientSideConnection.html">ClientSideConnection</a></code>
                can join a server by calling either <a class="TutorialLink"
                    href="ClientSideConnection.html#joinServer(java.net.InetAddress,int)"><code>joinServer(InetAddress,int)</code></a>
                or <a href="ClientSideConnection.html#joinServer(java.lang.String)"><code>joinServer(String)</code></a>,
                which will return true if the connection was successful. Once a connection has been established data can
                be managed through the methods described in <a class="TutorialLink" target="_blank"
                    href="dataManager.html">Sending and Receiving Data</a>.
                <code><a class="TutorialLink" target="_blank" href="ClientSideConnection.html">ClientSideConnections</a></code>
                can then leave servers by calling <a
                    href="ClientSideConnection.html#leaveServer()"><code>leaveServer()</code></a>. When a client leaves
                a server for any reason, including a call to <a
                    href="ClientSideConnection.html#leaveServer()"><code>leaveServer()</code></a>, <a
                    href="ClientSideConnection.html#leftServer(java.lang.String,boolean)"><code>leftServer(String, boolean)</code></a>
                will fire, with the String being the reason why the client left the server, null if none was provided,
                and the boolean being whether the client left voluntarily.</p>
            <section class="detail" id="Authentication">
                <strong>Authentication</strong>
                <p>While completely optional, a method to authenticate client connections to servers can be defined.
                    This can be done by using both the <a class="TutorialLink"
                        href="ClientSideConnection.html#authenticate(java.nio.channels.SocketChannel)"><code>authenticate(SocketChannel)</code></a>
                    and <a class="TutorialLink"
                        href="ServerSideConnection.html#serverSideAuth(java.nio.channels.SocketChannel)"><code>serverSideAuth(SocketChannel)</code></a>
                    methods in the
                    <code><a class="TutorialLink" target="_blank" href="ClientSideConnection.html">ClientSideConnection</a></code>
                    and
                    <code><a class="TutorialLink" target="_blank" href="ServerSideConnection.html">ServerSideConnection</a></code>
                    classes respectively. This will both be called simultaneously when a client attempts to connect to a
                    server, one on each end of the connection. A client-side example of a defined authentication method
                    is below.</p>
                <div class="codeblock">
                    <pre>@Override
    public void authenticate(SocketChannel in){
        ByteBuffer buff = ByteBuffer.allocate(Integer.BYTES);
        in.read(buff);
        int val = buff.getInt(0);
        val=Math.pow((val*2)/3,3);
        buff.clear();
        buff.putInt(0, val);
        in.write(buff);
    }
    </pre>
                </div>
                <p>The cooresponding server-side code is shown below.</p>
                <div class="codeblock">
                    <pre>@Override
    public boolean serverSideAuth(SocketChannel in){
        ByteBuffer buff = ByteBuffer.allocate(Integer.BYTES);
        int val = (int)(Math.random()*1000);
        buff.putInt(0, val);
        in.write(buff);
        buff.clear();
        int val = Math.pow((val*2)/3,3);
        in.read(buff);
        return buff.getInt(0) == val;
    }
    </pre>
                </div>
                <p>This code sends the client an integer from the server-side, which the client then does an operation
                    on and then sends it back to the server, which will verify that the client correctly performed the
                    operation. If the client performs the operation incorrectly then
                    <code>serverSideAuth(SocketChannel)</code> will return false, which will automatically close the
                    connection, otherwise it will return true, allowing the connection.</p>
            </section>
            <hr>
            <h3>Detecting Public Servers</h3>
            <p>Detecting public servers is a two step process. First the
                <code><a class="TutorialLink" target="_blank" href="ClientSideConnection.html">ClientSideConnection</a></code>
                must call <a class="TutorialLink"
                    href="ClientSideConnection.html#serverSearch()"><code>serverSearch()</code></a>, which will send out
                a request for server information to the local area network. Any public servers that receive this
                information will then respond and send the client their info from the <a class="TutorialLink"
                    href="Server.html#getServerInfo()"><code>getServerInfo()</code></a> method. This data is then
                received by <a class="TutorialLink"
                    href="ClientSideConnection.html#receiveServerInfo(java.net.InetSocketAddress,byte[])"><code>receiveServerInfo(InetSocketAddress, byte[])</code></a>.
                Below is some example code using this method.</p>
            <div class="codeblock">
                <pre>@Override
    public boolean receiveServerInfo(InetSocketAddress address, byte[] info){
        String name = new String(info);
        System.out.println(name+" at "+address);
    }
    </pre>
            </div>
            <p>This code will print off and server info received in the format [name] at [ip address]:[port]. For this to work the cooresponding server's <a class="TutorialLink" href="Server.html#getServerInfo()"><code>getServerInfo()</code></a> should return a byte version of the server's name (For instance by calling <code>String.getBytes()</code>).</p>
      
</body>
<div class="NavBit">
    <a target="_top" href="serverManager.html">« Previous</a>
    •
    <a target="_top" href="dataManager.html">Next »</a>
</div>
<hr class="clearfloat">

<div id="Footer">

    <p class="footertext">
    <p>For missing information or issues with the API, submit a bug report here. Active reports can be seen here.</p>
</div>
<div class="PrintHeaders">
    <b>Previous page:</b> Server-Side Management
    <br><b>Next page:</b> Sending and Receiving Data
</div>
<!-- Start SiteCatalyst code -->
<script type="application/javascript" src="./tutorial/ora_docs.js.download"></script>
<script src="./tutorial/ora_code_docs.js.download"></script>
<script src="./tutorial/ora_code.js.download"></script>
<!-- End SiteCatalyst code -->
<script type="text/javascript" src="./tutorial/inject.js(1).download"></script>